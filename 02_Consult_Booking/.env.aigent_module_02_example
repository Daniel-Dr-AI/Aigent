# ========================================
# Aigent Module 02 - Consult Booking & Scheduling
# Environment Variables Configuration
# ========================================

# -----------------
# Webhook Configuration
# -----------------
# Allowed CORS origins (comma-separated or '*' for all)
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Unique webhook identifier for booking endpoint
WEBHOOK_ID_BOOKING=consult-booking-v1

# -----------------
# Scheduling System Configuration
# -----------------
# Primary scheduling provider: cal.com, acuity, simplybook, calendly
SCHEDULING_PROVIDER_NAME=Cal.com

# Scheduling API base URL (no trailing slash)
# Cal.com: https://api.cal.com/v1
# Acuity: https://acuityscheduling.com/api/v1
# SimplyBook.me: https://user-api.simplybook.me
SCHEDULING_API_BASE_URL=https://api.cal.com/v1

# Scheduling API base URL for public links (reschedule, booking pages)
SCHEDULING_BASE_URL=https://cal.com/yourclinic

# API credential reference in n8n
SCHEDULING_CREDENTIAL_ID=10
SCHEDULING_CREDENTIAL_NAME=Cal.com API Key

# Event type ID (specific service/provider mapping in scheduling system)
# Cal.com: eventTypeId from event type settings
# Acuity: appointmentTypeID
# SimplyBook: service_id
SCHEDULING_EVENT_TYPE_ID=123456

# Default appointment duration in minutes (if not specified in event type)
DEFAULT_APPOINTMENT_DURATION=30

# Clinic timezone (IANA format)
CLINIC_TIMEZONE=America/New_York

# Default language for booking confirmations
DEFAULT_LANGUAGE=en

# -----------------
# Alternative Scheduling Providers
# -----------------
# Uncomment and configure based on your provider:

# Acuity Scheduling
# SCHEDULING_API_BASE_URL=https://acuityscheduling.com/api/v1
# ACUITY_USER_ID=12345
# ACUITY_CREDENTIAL_ID=11
# ACUITY_CREDENTIAL_NAME=Acuity API

# SimplyBook.me
# SCHEDULING_API_BASE_URL=https://user-api.simplybook.me
# SIMPLYBOOK_COMPANY_LOGIN=yourclinic
# SIMPLYBOOK_CREDENTIAL_ID=12
# SIMPLYBOOK_CREDENTIAL_NAME=SimplyBook API

# Calendly (Note: Calendly API is read-only for most operations)
# SCHEDULING_API_BASE_URL=https://api.calendly.com
# CALENDLY_CREDENTIAL_ID=13
# CALENDLY_CREDENTIAL_NAME=Calendly OAuth

# Google Calendar (Direct integration)
# GOOGLE_CALENDAR_ID=primary
# GOOGLE_CALENDAR_CREDENTIAL_ID=14
# GOOGLE_CALENDAR_CREDENTIAL_NAME=Google Calendar OAuth

# -----------------
# CRM Configuration (HubSpot)
# -----------------
# HubSpot credential ID from n8n credential store
HUBSPOT_CREDENTIAL_ID=1
HUBSPOT_CREDENTIAL_NAME=HubSpot Account

# Alternate CRM Examples:
# SALESFORCE_CREDENTIAL_ID=2
# SALESFORCE_CREDENTIAL_NAME=Salesforce Production
# ZOHO_CREDENTIAL_ID=3
# ZOHO_CREDENTIAL_NAME=Zoho CRM

# -----------------
# SMS Notification Configuration (Twilio)
# -----------------
# Twilio credential reference
TWILIO_CREDENTIAL_ID=15
TWILIO_CREDENTIAL_NAME=Twilio Account

# Clinic's Twilio phone number (from number)
TWILIO_FROM_NUMBER=+15551234567

# Enable SMS confirmations (true/false)
ENABLE_SMS_CONFIRMATION=true

# Alternate SMS Providers:
# VONAGE_CREDENTIAL_ID=16
# VONAGE_CREDENTIAL_NAME=Vonage SMS API
# VONAGE_FROM_NUMBER=+15559876543

# -----------------
# Email Notification Configuration (SendGrid)
# -----------------
# SendGrid credential reference
SENDGRID_CREDENTIAL_ID=17
SENDGRID_CREDENTIAL_NAME=SendGrid API

# From email address (must be verified in SendGrid)
SENDGRID_FROM_EMAIL=appointments@yourclinic.com

# BCC email for internal tracking (optional)
SENDGRID_BCC_EMAIL=bookings@yourclinic.com

# Enable email confirmations (true/false)
ENABLE_EMAIL_CONFIRMATION=true

# Enable calendar invite attachment (.ics file)
ENABLE_CALENDAR_ATTACHMENT=true

# Enable unsubscribe footer (required for marketing emails)
ENABLE_UNSUBSCRIBE=false

# Alternate Email Providers:
# MAILGUN_CREDENTIAL_ID=18
# MAILGUN_CREDENTIAL_NAME=Mailgun API
# MAILGUN_DOMAIN=mg.yourclinic.com

# AWS_SES_CREDENTIAL_ID=19
# AWS_SES_CREDENTIAL_NAME=AWS SES
# AWS_SES_REGION=us-east-1

# -----------------
# Clinic Branding & Information
# -----------------
# Clinic name (appears in messages and emails)
CLINIC_NAME=Your Clinic Name

# Clinic phone number (formatted for display)
CLINIC_PHONE=+1 (555) 123-4567

# Clinic email for patient inquiries
CLINIC_EMAIL=info@yourclinic.com

# Clinic physical address (multi-line, use \n for breaks)
CLINIC_ADDRESS=123 Medical Plaza\nSuite 100\nYour City, ST 12345

# Brand primary color (hex code, used in email templates)
BRAND_PRIMARY_COLOR=#4F46E5

# Brand secondary color (optional)
BRAND_SECONDARY_COLOR=#10B981

# Clinic logo URL (for email headers)
CLINIC_LOGO_URL=https://yourdomain.com/logo.png

# -----------------
# Business Rules Configuration
# -----------------
# Minimum hours advance notice required for bookings
MIN_BOOKING_ADVANCE_HOURS=24

# Maximum days in advance patients can book
MAX_BOOKING_ADVANCE_DAYS=90

# Buffer time between appointments (minutes)
BUFFER_TIME_MINUTES=15

# Enable same-day booking (true/false)
ENABLE_SAME_DAY_BOOKING=false

# Auto-confirm bookings (true) or require manual approval (false)
AUTO_CONFIRM_BOOKINGS=true

# Maximum concurrent bookings per time slot
MAX_CONCURRENT_BOOKINGS=1

# -----------------
# Integration Settings
# -----------------
# Enable CRM updates (true/false)
ENABLE_CRM_UPDATE=true

# Enable SMS notifications (true/false)
ENABLE_SMS_NOTIFICATIONS=true

# Enable email notifications (true/false)
ENABLE_EMAIL_NOTIFICATIONS=true

# Retry failed API calls (true/false)
ENABLE_API_RETRY=true

# Number of retry attempts for failed API calls
API_RETRY_ATTEMPTS=3

# Delay between retry attempts (milliseconds)
API_RETRY_DELAY=2000

# -----------------
# Error Handling
# -----------------
# ID of dedicated error handling workflow (optional)
ERROR_WORKFLOW_ID=

# Error notification webhook (Slack, Teams, etc.)
ERROR_NOTIFICATION_WEBHOOK=https://hooks.slack.com/services/YOUR/ERROR/WEBHOOK

# -----------------
# Module Integration
# -----------------
# Module 01 webhook URL (for chaining workflows)
MODULE_01_WEBHOOK_URL=https://your-n8n.com/webhook/intake-lead

# Module 03 webhook URL (for appointment reminders)
MODULE_03_WEBHOOK_URL=https://your-n8n.com/webhook/appointment-reminders

# Module 04 webhook URL (for pre-visit forms)
MODULE_04_WEBHOOK_URL=https://your-n8n.com/webhook/pre-visit-forms

# -----------------
# n8n Instance Configuration
# -----------------
# Unique instance identifier for multi-tenant setups
N8N_INSTANCE_ID=clinic-prod-001

# -----------------
# Security & Compliance
# -----------------
# Enable audit logging (true/false)
ENABLE_AUDIT_LOG=true

# Data retention period (days) for booking data
DATA_RETENTION_DAYS=2555

# HIPAA compliance mode (true/false)
HIPAA_MODE=false

# Require patient consent before SMS (true/false)
REQUIRE_SMS_CONSENT=true

# Require patient consent before email (true/false)
REQUIRE_EMAIL_CONSENT=false

# -----------------
# Testing & Development
# -----------------
# Enable test mode (prevents actual bookings, returns mock data)
TEST_MODE=false

# Test appointment duration (minutes, used in test mode)
TEST_APPOINTMENT_DURATION=15

# Send test confirmations to this email instead of patient
TEST_EMAIL_OVERRIDE=

# Send test SMS to this number instead of patient
TEST_PHONE_OVERRIDE=

# -----------------
# Performance & Monitoring
# -----------------
# API timeout (milliseconds)
API_TIMEOUT=15000

# Webhook response timeout (milliseconds)
WEBHOOK_TIMEOUT=20000

# Enable performance logging (true/false)
ENABLE_PERFORMANCE_LOG=true

# Enable detailed debug logging (true/false)
DEBUG_MODE=false

# Monitoring webhook (for uptime/health checks)
MONITORING_WEBHOOK_URL=

# -----------------
# Module Metadata
# -----------------
MODULE_VERSION=1.0.0
MODULE_NAME=Consult_Booking
MODULE_DEPENDENCIES=Aigent_Module_01_Intake_LeadCapture
