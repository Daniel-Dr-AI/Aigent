# ========================================
# Aigent Module 04 - Billing & Payments
# Environment Variables Configuration
# ========================================

# -----------------
# Webhook Configuration
# -----------------
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
WEBHOOK_ID_BILLING=billing-payment-v1

# -----------------
# Payment Gateway Configuration
# -----------------
PAYMENT_GATEWAY=stripe
PAYMENT_GATEWAY_CREDENTIAL_ID=30
PAYMENT_GATEWAY_CREDENTIAL_NAME=Stripe API Key

# Stripe Configuration
STRIPE_API_KEY=sk_live_YOUR_STRIPE_SECRET_KEY
STRIPE_PUBLISHABLE_KEY=pk_live_YOUR_STRIPE_PUBLISHABLE_KEY

# Square Configuration (alternative)
SQUARE_ACCESS_TOKEN=YOUR_SQUARE_ACCESS_TOKEN
SQUARE_LOCATION_ID=YOUR_SQUARE_LOCATION_ID

# -----------------
# Billing Behavior
# -----------------
BILLING_MODE=invoice_link
DEFAULT_CURRENCY=USD
MEMBERSHIP_ENABLED=false
DEFAULT_MEMBERSHIP_PLAN_ID=

# -----------------
# Accounting Integration
# -----------------
ACCOUNTING_TARGET=quickbooks
QBO_CLIENT_ID=YOUR_QBO_CLIENT_ID
QBO_CLIENT_SECRET=YOUR_QBO_CLIENT_SECRET
QBO_REFRESH_TOKEN=YOUR_QBO_REFRESH_TOKEN
QBO_REALM_ID=YOUR_COMPANY_ID
QBO_CREDENTIAL_ID=31
QBO_CREDENTIAL_NAME=QuickBooks OAuth

# PracticeSuite (alternative)
PRACTICESUITE_API_KEY=YOUR_PRACTICESUITE_API_KEY
PRACTICESUITE_BASE_URL=https://api.practicesuite.com
PRACTICESUITE_CREDENTIAL_ID=32
PRACTICESUITE_CREDENTIAL_NAME=PracticeSuite API

# -----------------
# Email Configuration (SendGrid)
# -----------------
SENDGRID_CREDENTIAL_ID=17
SENDGRID_CREDENTIAL_NAME=SendGrid API
SENDGRID_API_KEY=SG.YOUR_SENDGRID_API_KEY
RECEIPT_FROM_EMAIL=billing@yourclinic.com
RECEIPT_FROM_NAME=Your Clinic Billing

# -----------------
# SMS Configuration (Twilio - Optional)
# -----------------
SEND_SMS_RECEIPT=false
TWILIO_CREDENTIAL_ID=15
TWILIO_CREDENTIAL_NAME=Twilio Account
TWILIO_ACCOUNT_SID=YOUR_TWILIO_ACCOUNT_SID
TWILIO_AUTH_TOKEN=YOUR_TWILIO_AUTH_TOKEN
TWILIO_FROM_NUMBER=+15551234567

# -----------------
# Branding & Clinic Information
# -----------------
BRAND_NAME=Your Clinic
BRAND_PRIMARY_COLOR=#4F46E5
SUPPORT_EMAIL=billing@yourclinic.com
SUPPORT_PHONE=+1 (555) 123-4567

# -----------------
# Data Store Configuration
# -----------------
GOOGLE_SHEETS_CREDENTIAL_ID=6
GOOGLE_SHEETS_CREDENTIAL_NAME=Google Sheets OAuth
GOOGLE_SHEET_ID=1a2b3c4d5e6f7g8h9i0j
GOOGLE_SHEET_TAB=BillingLog

# -----------------
# Service Codes & Pricing (in cents)
# -----------------
SERVICE_CODE_CONSULT_30=CONSULT_30
SERVICE_CODE_CONSULT_60=CONSULT_60
SERVICE_CODE_FOLLOWUP=FOLLOWUP_15
PRICE_CONSULT_30=12000
PRICE_CONSULT_60=20000
PRICE_FOLLOWUP=7500

# -----------------
# Business Rules
# -----------------
ALLOW_REFUNDS=true
REFUND_WINDOW_DAYS=30
REQUIRE_PAYMENT_METHOD=true
AUTO_RETRY_FAILED_PAYMENTS=true
PAYMENT_RETRY_ATTEMPTS=3
PAYMENT_RETRY_DELAY_DAYS=3

# -----------------
# Error Handling
# -----------------
ERROR_WORKFLOW_ID=
ERROR_NOTIFICATION_WEBHOOK=https://hooks.slack.com/services/YOUR/ERROR/WEBHOOK

# -----------------
# Module Integration
# -----------------
MODULE_03_WEBHOOK_URL=https://your-n8n.com/webhook/telehealth-session
MODULE_05_WEBHOOK_URL=https://your-n8n.com/webhook/followup-retention

# -----------------
# n8n Instance
# -----------------
N8N_INSTANCE_ID=clinic-prod-001

# -----------------
# Security & Compliance
# -----------------
PCI_COMPLIANT_LOGGING=true
LOG_PAYMENT_DETAILS=true
DATA_RETENTION_DAYS=2555
ENABLE_FRAUD_DETECTION=false

# -----------------
# Testing
# -----------------
TEST_MODE=false
TEST_EMAIL_OVERRIDE=

# -----------------
# Performance
# -----------------
API_TIMEOUT=15000
WEBHOOK_TIMEOUT=20000
ENABLE_PERFORMANCE_LOG=true
DEBUG_MODE=false

# -----------------
# Metadata
# -----------------
MODULE_VERSION=1.0.0
MODULE_NAME=Billing_Payments
MODULE_DEPENDENCIES=Aigent_Module_03_Telehealth_Session
